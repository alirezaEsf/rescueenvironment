<div class="saffron-input" dir="rtl" [formGroup]="formGroup" [ngStyle]="{'cursor': isReadOnly ? 'not-allowed' : 'unset'}">
  <mat-form-field appearance="outline" style="width: 100%" [hideRequiredMarker]="true" [ngClass]="{'is-read-only': isReadOnly}">
    <mat-label>
      <saffron-input-label [control]="control" [placeholder]="placeholder"></saffron-input-label>
    </mat-label>
    <div class="flex w-full">
      <div [ngSwitch]="dataType" class="flex w-full">
        <div *ngSwitchCase="SaffronDataType.Text">
          <input class="input-of-saffron" [formControlName]="controlName" matInput [maxLength]="maxlength" autocomplete="off"
                 XssInputValidation
            (keyup.enter)="onEnterPressed()">
        </div>
        <div *ngSwitchCase="SaffronDataType.Password" class="flex w-full">
          <input class="input-of-saffron" [formControlName]="controlName" matInput [type]="true ? 'password' : 'text'"
                 XssInputValidation  #passwordField
            [maxLength]="maxlength" autocomplete="off" (keyup.enter)="onEnterPressed()">
            <button style="min-height: 22px !important;height: 10px !important;"
                mat-icon-button
                type="button"
                (click)="
                            passwordField.type === 'password'
                                ? (passwordField.type = 'text')
                                : (passwordField.type = 'password')
                        "
                matSuffix
            >
                @if (passwordField.type === 'password') {
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:eye'"
                    ></mat-icon>
                }
                @if (passwordField.type === 'text') {
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:eye-slash'"
                    ></mat-icon>
                }
            </button>
        </div>
        <div *ngSwitchCase="SaffronDataType.Number">
          <input class="input-of-saffron" [formControlName]="controlName" matInput [min]="min" [max]="max" [maxLength]="maxlength"
                 XssInputValidation
            autocomplete="off" (keyup.enter)="onEnterPressed()">
        </div>
        <div *ngSwitchCase="SaffronDataType.Currency">
          <input class="input-of-saffron" [formControlName]="controlName" matInput currencyMask [min]="min" [max]="max"
                 XssInputValidation
            [maxLength]="maxlength" autocomplete="off" (keyup.enter)="onEnterPressed()">
        </div>
      </div>

    </div>
    <mat-error>
      <saffron-input-error [errors]="control?.errors"></saffron-input-error>
    </mat-error>
    <mat-hint *ngIf="showLength && dataType === SaffronDataType.Number" align="end">{{((control?.value ?? '') + '').length}} /
      {{maxlength}}</mat-hint>
    <mat-hint *ngIf="showToPersian && dataType === SaffronDataType.Currency" class="number-persian"> {{ control?.value |
      numberToPersian}}</mat-hint>
  </mat-form-field>
</div>
