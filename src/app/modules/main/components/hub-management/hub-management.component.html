<!--
<app-breadcrumbs id="section" *ngIf="!addFlag&&!updateFlag"></app-breadcrumbs>
<div class="w-full">
    <p-panel header="هاب های داده" *ngIf="!addFlag&&!updateFlag">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-4 my-10 mx-5">
            <div class=" ">
                <label class="normal-label"> <span >عنوان هاب :</span></label><br>
                <input pInputText [(ngModel)]="title" (keydown.enter)="onKeydown($event)" class="w-full">
            </div>
            <div class="" dir="ltr">
                <label class="normal-label"> <span >dbName :</span></label><br>
                <input pInputText [(ngModel)]="dbname" (keydown.enter)="onKeydown($event)" class="w-full">
            </div>
            <div class="" dir="ltr">
                <label class="normal-label"> <span >ip :</span></label><br>
                <input pInputText [(ngModel)]="ip" (keydown.enter)="onKeydown($event)" class="w-full">
            </div>

            <div class="" *ngIf="!addFlag && !updateFlag">
                <button pButton label="{{'ایجاد هاب داده' | transloco}}"
                        icon="pi pi-plus" (click)="showAdd()" class=""></button>
            </div>
            <div></div>
            <div class="" dir="ltr">
                <button pButton label='جستجو' style="width: 110px;margin: 3px;margin-top: 5px"
                        (click)="searchClick()" class="btnSearch btnSearchModoule" icon="pi pi-search"></button>&nbsp;&nbsp;
                <button pButton label="{{'button.clear'|transloco}}" [outlined]="true" (click)="clear()"
                        icon="pi pi-filter-slash" style="margin: 3px;margin-top: 5px"></button>
            </div>
        </div>
        <p-table [value]="hubList" *ngIf="!addFlag&&!updateFlag"
                 selectionMode="single" [lazy]="false"
                 [loading]="loading"
                 [showCurrentPageReport]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="row" class="row">
                        ردیف
                        <p-sortIcon field="row"></p-sortIcon>
                    </th>
                    <th pSortableColumn="title" class="title">
                        عنوان هاب
                        <p-sortIcon field="title"></p-sortIcon>
                    </th>
                    <th pSortableColumn="dbEngineId" class="dbEngineId" >
                        dbEngine
                        <p-sortIcon field="dbEngineId"></p-sortIcon>
                    </th>
                    <th pSortableColumn="dbName" class="dbName" >
                        dbName
                        <p-sortIcon field="dbName"></p-sortIcon>
                    </th>
                    <th pSortableColumn="ip" class="ip" >
                        ip
                        <p-sortIcon field="ip"></p-sortIcon>
                    </th>

                    <th  style="text-align: right !important;
                    border-right: 1px solid #ebe8e8;" >عملیات
                    </th>
                </tr>
            </ng-template>
            <ng-template let-i="rowIndex" pTemplate="body" let-hub>
                <tr [pSelectableRow]="hub">
                    <td class="row">{{ hub.row }}</td>
                    <td [pTooltip]="hub.hubTitle"
                        [tooltipDisabled]="hub.hubTitle?hub.hubTitle.length < 20:false">
                        {{ hub.hubTitle|moreChar19 }}
                    </td>
                    <td>
                        {{ hub.dbEngineId|dbEngine }}
                    </td>
                    <td>
                        {{ hub.dbName }}
                    </td>
                    <td>
                        {{ hub.ip }}
                    </td>

                    <td  style="text-align: right !important;border-right: 1px solid #ebe8e8;">
                        <button type="button" class="p-button-rounded  "
                                pButton (click)="setRecord(hub)"
                                pRipple icon="pi pi-chevron-down" (click)="menu.toggle($event)"></button>&nbsp;
                        <p-menu appendTo="body" #menu [popup]="true" [model]="items"></p-menu>
                    </td>
                </tr>
            </ng-template>
        </p-table>
        <br>
        <div class="grid text-left" *ngIf="!addFlag">
            <div class="col-4-5"></div>
            <div class="col-1-8" style="margin-top: 5px">
                <button pButton pRipple icon="pi pi-arrow-right"
                        pTooltip="{{'tooltip.nextPage' | transloco}}"
                        [disabled]=" this.hubList.length < pagesize"
                        (click)="nextPageStatement()"
                ></button>
                <span>&nbsp;{{ pageDescription }}&nbsp;</span>
                <button pButton pRipple icon="pi pi-arrow-left"
                        pTooltip="{{'tooltip.beforePage' | transloco}}"
                        (click)="previousPageStatement()"
                        [disabled]="(this.pageno) == 0 "
                ></button>
            </div>
            <div class="col-1-2">
                <p-dropdown
                    [options]="pagesizeOptions"
                    appendTo='body'
                    optionValue="code"
                    optionLabel="name"
                    [(ngModel)]="pagesize"
                    (onChange)="OnchangePageno($event)"
                    [disabled]="nextBtnFlag">
                </p-dropdown>
            </div>
            <div class="col-4-5"></div>
        </div>

    </p-panel>
    <div class="col-12" *ngIf="addFlag">
        <app-register-hub (close)="onClose($event)" [inputUpdate]="hubDto"></app-register-hub>
    </div>
</div>
-->
<p-toast />
<app-breadcrumbs id="section" [showBackButton]="false" *ngIf="!addFlag && !updateFlag"></app-breadcrumbs>
<div class="grid grid-cols-12 content-page" *ngIf="!addFlag && !updateFlag">
    <div class="col-span-3 flex text-left   h-12 gap-2 mt-5-5  sm:hidden ">
        <button
            pButton
            label="{{'button.search' | transloco}}"
            icon="pi pi-search"
            (click)="search()"
            class="normal-button"
        ></button>
        <button
            pButton
            label="{{'button.clear' | transloco}}"
            icon="pi pi-filter-slash"
            (click)="clear()" [outlined]="true"
            class="my-1 px-4  py-2 border   normal-button "
        ></button>
    </div>
    <div class="col-span-3">
        <label class="text-gray-700  mb-1 font-medium">
            <span>{{ 'hubManagement.input.titleHub'|transloco }} :</span>
        </label><br>
        <input
            pInputText
            [(ngModel)]="title"
            (keydown.enter)="onKeydown($event)"
            class="normal-input"
        />
    </div>
    <div dir="ltr" class="col-span-3"></div>
    <div dir="ltr" class="col-span-3">
        <label class="text-gray-700  mb-1 font-medium">
            <span>{{ 'hubManagement.input.dbName'|transloco }} :</span>
        </label><br>
        <input
            pInputText
            [(ngModel)]="dbname"
            (keydown.enter)="onKeydown($event)"
            class="normal-input"
        />
    </div>

    <div dir="ltr" class="col-span-3">
        <label class="text-gray-700  mb-1 font-medium">
            <span>{{ 'hubManagement.input.ip'|transloco }} :</span>
        </label><br>
        <input
            pInputText
            [(ngModel)]="ip"
            (keydown.enter)="onKeydown($event)"
            class="normal-input"
        />
    </div>
    <div class=" flex  sm:flex  justify-start items-center gap-2 h-12 mt-5 sm:col-span-6"
         *ngIf="!addFlag && !updateFlag">
        <button
            pButton
            label="{{'hubManagement.btn.createDataHub' | transloco}}"
            icon="pi pi-plus"
            (click)="showAdd()"
            class="normal-button"
        ></button>
    </div>
    <div class="hidden sm:flex sm:col-span-6 justify-start items-center gap-2 h-12 mt-5-5 rtl:flex-row-reverse">
        <button
            pButton
            label="{{'button.clear' | transloco}}"
            icon="pi pi-filter-slash"
            (click)="clear()"
            [outlined]="true"
            class="my-1 px-4 py-2 border normal-button"
        ></button>
        <button
            pButton
            label="{{'button.search' | transloco}}"
            icon="pi pi-search"
            (click)="search()"
            class="normal-button"
        ></button>
    </div>
    <div class="col-span-9"></div>
    <div class="col-span-12 ">
        <p-table
            [value]="hubList"
            *ngIf="!addFlag && !updateFlag"
            selectionMode="single"
            [lazy]="false"
            [loading]="loading"
            [showCurrentPageReport]="true"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="row" class="text-right row">
                        <p-sortIcon field="row"></p-sortIcon>
                        {{ 'hubManagement.table.th.row'|transloco }}
                    </th>
                    <th pSortableColumn="hubTitle" class="text-right title">
                        {{ 'hubManagement.table.th.titleHub'|transloco }}
                        <p-sortIcon field="hubTitle"></p-sortIcon>
                    </th>
                    <th pSortableColumn="dbEngineId" class="text-right dbEngineId">
                        <p-sortIcon field="dbEngineId"></p-sortIcon>
                        {{ 'hubManagement.table.th.dbEngine'|transloco }}
                    </th>
                    <th pSortableColumn="dbName" class="text-right dbName">
                        <p-sortIcon field="dbName"></p-sortIcon>
                        {{ 'hubManagement.table.th.dbName'|transloco }}
                    </th>
                    <th pSortableColumn="ip" class="text-right ip">
                        <p-sortIcon field="ip"></p-sortIcon>
                        {{ 'hubManagement.table.th.ip'|transloco }}
                    </th>
                    <th class="text-right border-r border-gray-200">
                        {{ 'hubManagement.table.th.operation'|transloco }}
                    </th>
                </tr>
            </ng-template>

            <ng-template let-i="rowIndex" pTemplate="body" let-hub>
                <tr [pSelectableRow]="hub">
                    <td class="text-right row">{{ hub.row }}</td>
                    <td
                        class="text-right title"
                        [pTooltip]="hub.hubTitle"
                        [tooltipDisabled]="hub.hubTitle ? hub.hubTitle.length < 20 : false"
                    >
                        {{ hub.hubTitle | moreChar19 }}
                    </td>
                    <td class="text-right dbEngineId">{{ hub.dbEngineId | dbEngine }}</td>
                    <td class="text-right dbName">{{ hub.dbName }}</td>
                    <td class="text-right ip">{{ hub.ip }}</td>
                    <td class="text-right border-r border-gray-200">
                        <button
                            type="button"
                            class="p-button-rounded "
                            pButton
                            (click)="setRecord(hub)"
                            pRipple
                            icon="pi pi-chevron-down"
                            (click)="menu.toggle($event)"
                        ></button>
                        <p-menu appendTo="body" #menu [popup]="true" [model]="items"></p-menu>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<div class="grid grid-cols-12 mt-4 items-center gap-4 justify-center" *ngIf="!addFlag">
    <div class="col-span-4"></div>

    <div class="flex items-center justify-center gap-2 col-span-4">
        <button
            pButton
            pRipple
            pTooltip="{{ 'tooltip.beforePage' | transloco }}"
            [disabled]="pageno == 0"
            (click)="previousPageStatement()"
            class="normal-button"
        ><i class="pi pi-arrow-right normal-button"></i></button>
        <span>{{ pageDescription }}</span>
        <button
            pButton
            pRipple
            pTooltip="{{ 'tooltip.nextPage' | transloco }}"
            [disabled]="hubList.length < pagesize"
            (click)="nextPageStatement()"
            class="normal-button"

        ><i class="pi pi-arrow-left "></i>
        </button>
        <p-dropdown
            [options]="pagesizeOptions"
            optionValue="code"
            optionLabel="name"
            [(ngModel)]="pagesize"
            (onChange)="OnchangePageno($event)"
            [disabled]="nextBtnFlag"
            class="normal-dropdown-pagination"
        ></p-dropdown>
    </div>

    <div class="col-span-4"></div>
</div>
<div class="col-span-12" *ngIf="addFlag">
    <app-register-hub
        (close)="onClose($event)"
        [inputUpdate]="hubDto"
    ></app-register-hub>
</div>
