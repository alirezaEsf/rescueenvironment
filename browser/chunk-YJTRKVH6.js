import{a as Ce,b as ve,c as ge,g as xe}from"./chunk-USWXAYLQ.js";import{a as he}from"./chunk-GDNUC2DO.js";import{a as se,b as me,c as de}from"./chunk-JWYE4QUG.js";import{a as pe,b as ue,c as _e,d as fe}from"./chunk-VVQWPJ3X.js";import{a as Ht}from"./chunk-RZWL4VHX.js";import"./chunk-TFZKTK72.js";import{a as Xt,b as Yt}from"./chunk-OBMFXYQV.js";import{c as Wt}from"./chunk-W4IV6SAA.js";import"./chunk-YCUPTL4E.js";import{f as Ut}from"./chunk-2WF3BAZE.js";import"./chunk-J44A7NQY.js";import{b as Ot}from"./chunk-K5KQA6TL.js";import"./chunk-6VFWJ4EV.js";import{a as ce,b as le}from"./chunk-N7K7PRKT.js";import{a as ae,b as re,d as ht,e as Ct}from"./chunk-7FJFN7F7.js";import{a as Qt,d as ot,e as qt,i as at,j as rt}from"./chunk-E3OPEBBX.js";import"./chunk-YYH5TD5H.js";import{b as dt,d as Jt,f as pt,g as Zt,j as te,l as ee,n as ut,o as ie,r as ne,v as oe,w as _t,x as ft}from"./chunk-FD45J2AH.js";import{a as ct,c as Gt,d as Kt,e as lt}from"./chunk-IDU54J7C.js";import{b as st,c as mt}from"./chunk-FLSFYQN3.js";import{D as Pt,E as jt,K as zt,N as Lt}from"./chunk-4RUIE36X.js";import"./chunk-ILZLEP6A.js";import"./chunk-BPAYJYXU.js";import{b as et,c as it,d as q,e as nt}from"./chunk-KU56Z7YF.js";import{c as Nt}from"./chunk-DT5IGS4I.js";import{d as Vt,h as tt,m as $t,p as At,q as Bt}from"./chunk-XQUWTDXC.js";import{Ab as Y,Ac as gt,C as P,Cc as Rt,E as kt,Fb as T,G as wt,Gb as _,I as w,Jb as I,Kb as F,Lb as a,Mb as c,Mc as Z,Nb as u,Rb as D,W as k,X as S,Xb as g,Z as A,Za as It,Zb as d,_a as V,aa as St,bb as n,bc as z,cb as x,cc as L,dc as O,ec as U,f as W,fa as Tt,fc as p,g as G,ga as B,gc as M,hb as Ft,hc as b,la as j,m as bt,n as X,nb as Dt,pc as Q,qc as K,r as E,rc as H,sc as Et,wa as C,xa as v,xb as h,xc as N,y as yt,yc as Mt,zb as s,zc as J}from"./chunk-ABXAS3LN.js";import"./chunk-UGUGGRN7.js";var be=(()=>{let r=class r{constructor(){}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=j({type:r,selectors:[["contacts"]],standalone:!0,features:[Q],decls:1,vars:0,template:function(o,l){o&1&&u(0,"router-outlet")},dependencies:[it],encapsulation:2,changeDetection:0});let e=r;return e})();var R=(()=>{let r=class r{constructor(t){this._httpClient=t,this._contact=new G(null),this._contacts=new G(null),this._countries=new G(null),this._tags=new G(null)}get contact$(){return this._contact.asObservable()}get contacts$(){return this._contacts.asObservable()}get countries$(){return this._countries.asObservable()}get tags$(){return this._tags.asObservable()}getContacts(){return this._httpClient.get("api/apps/contacts/all").pipe(A(t=>{this._contacts.next(t)}))}searchContacts(t){return this._httpClient.get("api/apps/contacts/search",{params:{query:t}}).pipe(A(o=>{this._contacts.next(o)}))}getContactById(t){return this._contacts.pipe(w(1),E(o=>{let l=o.find(m=>m.id===t)||null;return this._contact.next(l),l}),k(o=>o?bt(o):X("Could not found contact with id of "+t+"!")))}createContact(){return this.contacts$.pipe(w(1),k(t=>this._httpClient.post("api/apps/contacts/contact",{}).pipe(E(o=>(this._contacts.next([o,...t]),o)))))}updateContact(t,o){return this.contacts$.pipe(w(1),k(l=>this._httpClient.patch("api/apps/contacts/contact",{id:t,contact:o}).pipe(E(m=>{let f=l.findIndex(y=>y.id===t);return l[f]=m,this._contacts.next(l),m}),k(m=>this.contact$.pipe(w(1),P(f=>f&&f.id===t),A(()=>(this._contact.next(m),m)))))))}deleteContact(t){return this.contacts$.pipe(w(1),k(o=>this._httpClient.delete("api/apps/contacts/contact",{params:{id:t}}).pipe(E(l=>{let m=o.findIndex(f=>f.id===t);return o.splice(m,1),this._contacts.next(o),l}))))}getCountries(){return this._httpClient.get("api/apps/contacts/countries").pipe(A(t=>{this._countries.next(t)}))}getTags(){return this._httpClient.get("api/apps/contacts/tags").pipe(A(t=>{this._tags.next(t)}))}createTag(t){return this.tags$.pipe(w(1),k(o=>this._httpClient.post("api/apps/contacts/tag",{tag:t}).pipe(E(l=>(this._tags.next([...o,l]),l)))))}updateTag(t,o){return this.tags$.pipe(w(1),k(l=>this._httpClient.patch("api/apps/contacts/tag",{id:t,tag:o}).pipe(E(m=>{let f=l.findIndex(y=>y.id===t);return l[f]=m,this._tags.next(l),m}))))}deleteTag(t){return this.tags$.pipe(w(1),k(o=>this._httpClient.delete("api/apps/contacts/tag",{params:{id:t}}).pipe(E(l=>{let m=o.findIndex(f=>f.id===t);return o.splice(m,1),this._tags.next(o),l}),P(l=>l),k(l=>this.contacts$.pipe(w(1),E(m=>(m.forEach(f=>{let y=f.tags.findIndex($=>$===t);y>-1&&f.tags.splice(y,1)}),l)))))))}uploadAvatar(t,o){return this.contacts$.pipe(w(1),k(l=>this._httpClient.post("api/apps/contacts/avatar",{id:t,avatar:o},{headers:{"Content-Type":o.type}}).pipe(E(m=>{let f=l.findIndex(y=>y.id===t);return l[f]=m,this._contacts.next(l),m}),k(m=>this.contact$.pipe(w(1),P(f=>f&&f.id===t),A(()=>(this._contact.next(m),m)))))))}};r.\u0275fac=function(o){return new(o||r)(Tt(Nt))},r.\u0275prov=St({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var Ae=["matDrawer"],Be=()=>({"=0":"No contacts","=1":"contact",other:"contacts"}),Ne=(e,r)=>({"dark:hover:bg-hover hover:bg-gray-100":e,"bg-primary-50 dark:bg-hover":r}),Pe=e=>["./",e];function je(e,r){if(e&1&&p(0),e&2){let i=d();b(" ",i.contactsCount," ")}}function ze(e,r){if(e&1&&(a(0,"div",19),p(1),c()),e&2){let i=d().$implicit;n(),b(" ",i.name.charAt(0)," ")}}function Le(e,r){if(e&1&&u(0,"img",21),e&2){let i=d().$implicit;s("src",i.avatar,V)}}function Oe(e,r){if(e&1&&(a(0,"div",22),p(1),c()),e&2){let i=d().$implicit;n(),b(" ",i.name.charAt(0)," ")}}function Ue(e,r){if(e&1&&(h(0,ze,2,1,"div",19),a(1,"a",18)(2,"div",20),h(3,Le,1,1,"img",21)(4,Oe,2,1,"div",22),c(),a(5,"div",23)(6,"div",24),p(7),c(),a(8,"div",25),p(9),c()()()),e&2){let i=r.$implicit,t=r.$index,o=d(2),l=d();_(t===0||i.name.charAt(0)!==o[t-1].name.charAt(0)?0:-1),n(),s("ngClass",Et(7,Ne,!l.selectedContact||l.selectedContact.id!==i.id,l.selectedContact&&l.selectedContact.id===i.id))("routerLink",H(10,Pe,i.id)),n(2),_(i.avatar?3:-1),n(),_(i.avatar?-1:4),n(3),b(" ",i.name," "),n(2),b(" ",i.title," ")}}function Qe(e,r){if(e&1&&I(0,Ue,10,12,"a",18,T().trackByFn,!0),e&2){let i=d();F(i)}}function qe(e,r){e&1&&(a(0,"div",17),p(1," There are no contacts! "),c())}function Ge(e,r){e&1&&h(0,Qe,2,0)(1,qe,2,0,"div",17),e&2&&_(r.length?0:1)}var vt=(()=>{let r=class r{constructor(t,o,l,m,f,y){this._activatedRoute=t,this._changeDetectorRef=o,this._contactsService=l,this._document=m,this._router=f,this._fuseMediaWatcherService=y,this.contactsCount=0,this.contactsTableColumns=["name","email","phoneNumber","job"],this.searchInputControl=new te,this._unsubscribeAll=new W}ngOnInit(){this.contacts$=this._contactsService.contacts$,this._contactsService.contacts$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this.contactsCount=t.length,this._changeDetectorRef.markForCheck()}),this._contactsService.contact$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this.selectedContact=t,this._changeDetectorRef.markForCheck()}),this._contactsService.countries$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this.countries=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe(S(this._unsubscribeAll),k(t=>this._contactsService.searchContacts(t))).subscribe(),this.matDrawer.openedChange.subscribe(t=>{t||(this.selectedContact=null,this._changeDetectorRef.markForCheck())}),this._fuseMediaWatcherService.onMediaChange$.pipe(S(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("lg")?this.drawerMode="side":this.drawerMode="over",this._changeDetectorRef.markForCheck()}),yt(this._document,"keydown").pipe(S(this._unsubscribeAll),P(t=>(t.ctrlKey===!0||t.metaKey)&&t.key==="/")).subscribe(()=>{this.createContact()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createContact(){this._contactsService.createContact().subscribe(t=>{this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}};r.\u0275fac=function(o){return new(o||r)(x(et),x(Z),x(R),x(Vt),x(q),x(Wt))},r.\u0275cmp=j({type:r,selectors:[["contacts-list"]],viewQuery:function(o,l){if(o&1&&z(Ae,7),o&2){let m;L(m=O())&&(l.matDrawer=m.first)}},standalone:!0,features:[Q],decls:27,vars:19,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","h-full","flex-auto","dark:bg-transparent",3,"backdropClick"],[1,"w-full","dark:bg-gray-900","md:w-160",3,"mode","opened","position","disableClose"],[1,"flex","flex-col"],[1,"flex-auto"],[1,"flex","flex-auto","flex-col","justify-between","border-b","px-6","py-8","sm:flex-row","md:flex-col","md:px-8"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],[1,"text-secondary","ml-0.5","font-medium"],[1,"mt-4","flex","items-center","sm:mt-0","md:mt-4"],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"relative"],[1,"border-t","p-8","text-center","text-4xl","font-semibold","tracking-tight","sm:p-16"],[1,"z-20","flex","cursor-pointer","items-center","border-b","px-6","py-4","md:px-8",3,"ngClass","routerLink"],[1,"text-secondary","sticky","top-0","z-10","-mt-px","border-b","border-t","bg-gray-50","px-6","py-1","font-medium","uppercase","dark:bg-gray-900","md:px-8"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","overflow-hidden","rounded-full"],["alt","Contact avatar",1,"h-full","w-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-lg","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"ml-4","min-w-0"],[1,"truncate","font-medium","leading-5"],[1,"text-secondary","truncate","leading-5"]],template:function(o,l){if(o&1){let m=D();a(0,"div",1)(1,"mat-drawer-container",2),g("backdropClick",function(){return C(m),v(l.onBackdropClicked())}),a(2,"mat-drawer",3,0),u(4,"router-outlet"),c(),a(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),p(10," Contacts "),c(),a(11,"div",8),h(12,je,1,1),p(13),N(14,"i18nPlural"),c()(),a(15,"div",9)(16,"div",5)(17,"mat-form-field",10),u(18,"mat-icon",11)(19,"input",12),c()(),a(20,"button",13),g("click",function(){return C(m),v(l.createContact())}),u(21,"mat-icon",14),a(22,"span",15),p(23,"Add"),c()()()(),a(24,"div",16),h(25,Ge,2,1),N(26,"async"),c()()()()()}if(o&2){let m;n(2),s("mode",l.drawerMode)("opened",!1)("position","end")("disableClose",!0),n(10),_(l.contactsCount>0?12:-1),n(),b(" ",J(14,13,l.contactsCount,K(18,Be))," "),n(5),s("svgIcon","heroicons_solid:magnifying-glass"),n(),s("formControl",l.searchInputControl)("autocomplete","off")("placeholder","Search contacts"),n(),s("color","primary"),n(),s("svgIcon","heroicons_outline:plus"),n(4),_((m=Mt(26,16,l.contacts$))?25:-1,m)}},dependencies:[fe,ue,_e,pe,it,rt,at,ot,mt,st,Ct,ht,_t,dt,pt,ft,ut,lt,ct,tt,nt,$t,Bt],encapsulation:2,changeDetection:0});let e=r;return e})();var He=["avatarFileInput"],We=["tagsPanel"],Xe=["tagsPanelOrigin"],ke=()=>["../"],we=e=>({"mt-6":e});function Ye(e,r){if(e&1&&u(0,"img",7),e&2){let i=d(2);s("src",i.contact.background,V)}}function Je(e,r){if(e&1&&u(0,"img",15),e&2){let i=d(2);s("src",i.contact.avatar,V)}}function Ze(e,r){if(e&1&&(a(0,"div",16),p(1),c()),e&2){let i=d(2);n(),b(" ",i.contact.name.charAt(0)," ")}}function ti(e,r){if(e&1&&(a(0,"div",26)(1,"span",27),p(2),c()()),e&2){let i=r.$implicit;n(2),M(i.title)}}function ei(e,r){if(e&1&&(a(0,"div",22),I(1,ti,3,1,"div",26,T().trackByFn,!0),N(3,"fuseFindByKey"),c()),e&2){let i=d(2);n(),F(gt(3,0,i.contact.tags,"id",i.tags))}}function ii(e,r){if(e&1&&(a(0,"div",24),u(1,"mat-icon",28),a(2,"div",29),p(3),c()()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:briefcase"),n(2),b(" ",i.contact.title," ")}}function ni(e,r){if(e&1&&(a(0,"div",24),u(1,"mat-icon",28),a(2,"div",29),p(3),c()()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:building-office-2"),n(2),b(" ",i.contact.company," ")}}function oi(e,r){if(e&1&&(a(0,"div",33)(1,"span",34),p(2,"\u2022"),c(),a(3,"span",35),p(4),c()()),e&2){let i=d().$implicit;n(4),M(i.label)}}function ai(e,r){if(e&1&&(a(0,"div",31)(1,"a",32),p(2),c(),h(3,oi,5,1,"div",33),c()),e&2){let i=r.$implicit;n(),s("href","mailto:"+i.email,V),n(),b(" ",i.email," "),n(),_(i.label?3:-1)}}function ri(e,r){if(e&1&&(a(0,"div",25),u(1,"mat-icon",28),a(2,"div",30),I(3,ai,4,3,"div",31,T().trackByFn,!0),c()()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:envelope"),n(2),F(i.contact.emails)}}function ci(e,r){if(e&1&&(a(0,"div",33)(1,"span",34),p(2,"\u2022"),c(),a(3,"span",35),p(4),c()()),e&2){let i=d().$implicit;n(4),M(i.label)}}function li(e,r){if(e&1&&(a(0,"div",31),u(1,"div",36),a(2,"div",37),p(3),c(),a(4,"div",38),p(5),c(),h(6,ci,5,1,"div",33),c()),e&2){let i=r.$implicit,t=d(3);n(),Y("background","url('/images/apps/contacts/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",t.getCountryByIso(i.country).flagImagePos),s("matTooltip",t.getCountryByIso(i.country).name),n(2),b(" ",t.getCountryByIso(i.country).code," "),n(2),b(" ",i.phoneNumber," "),n(),_(i.label?6:-1)}}function si(e,r){if(e&1&&(a(0,"div",25),u(1,"mat-icon",28),a(2,"div",30),I(3,li,7,10,"div",31,T().trackByFn,!0),c()()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:phone"),n(2),F(i.contact.phoneNumbers)}}function mi(e,r){if(e&1&&(a(0,"div",24),u(1,"mat-icon",28),a(2,"div",29),p(3),c()()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:map-pin"),n(2),b(" ",i.contact.address," ")}}function di(e,r){if(e&1&&(a(0,"div",24),u(1,"mat-icon",28),a(2,"div",29),p(3),N(4,"date"),c()()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:cake"),n(2),b(" ",J(4,2,i.contact.birthday,"longDate")," ")}}function pi(e,r){if(e&1&&(a(0,"div",25),u(1,"mat-icon",28)(2,"div",39),c()),e&2){let i=d(2);n(),s("svgIcon","heroicons_outline:bars-3-bottom-left"),n(),s("innerHTML",i.contact.notes,It)}}function ui(e,r){if(e&1){let i=D();a(0,"div",6),h(1,Ye,1,1,"img",7),a(2,"div",8)(3,"a",9),u(4,"mat-icon",10),c()()(),a(5,"div",11)(6,"div",12)(7,"div",13)(8,"div",14),h(9,Je,1,1,"img",15)(10,Ze,2,1,"div",16),c(),a(11,"div",17)(12,"button",18),g("click",function(){C(i);let o=d();return v(o.toggleEditMode(!0))}),u(13,"mat-icon",19),a(14,"span",20),p(15,"Edit"),c()()()(),a(16,"div",21),p(17),c(),h(18,ei,4,4,"div",22),a(19,"div",23),h(20,ii,4,2,"div",24)(21,ni,4,2,"div",24)(22,ri,5,1,"div",25)(23,si,5,1,"div",25)(24,mi,4,2,"div",24)(25,di,5,5,"div",24)(26,pi,3,2,"div",25),c()()()}if(e&2){let i=d();n(),_(i.contact.background?1:-1),n(2),s("matTooltip","Close")("routerLink",K(16,ke)),n(),s("svgIcon","heroicons_outline:x-mark"),n(5),_(i.contact.avatar?9:-1),n(),_(i.contact.avatar?-1:10),n(3),s("svgIcon","heroicons_solid:pencil-square"),n(4),b(" ",i.contact.name," "),n(),_(i.contact.tags.length?18:-1),n(2),_(i.contact.title?20:-1),n(),_(i.contact.company?21:-1),n(),_(i.contact.emails.length?22:-1),n(),_(i.contact.phoneNumbers.length?23:-1),n(),_(i.contact.address?24:-1),n(),_(i.contact.birthday?25:-1),n(),_(i.contact.notes?26:-1)}}function _i(e,r){if(e&1&&u(0,"img",7),e&2){let i=d(2);s("src",i.contact.background,V)}}function fi(e,r){if(e&1&&u(0,"img",15),e&2){let i=d(2);s("src",i.contact.avatar,V)}}function hi(e,r){if(e&1&&(a(0,"div",16),p(1),c()),e&2){let i=d(2);n(),b(" ",i.contact.name.charAt(0)," ")}}function Ci(e,r){if(e&1&&(a(0,"div",66)(1,"span",67),p(2),c()()),e&2){let i=r.$implicit;n(2),M(i.title)}}function vi(e,r){if(e&1&&(I(0,Ci,3,1,"div",66,T().trackByFn,!0),N(2,"fuseFindByKey")),e&2){let i=d(2);F(gt(2,0,i.contact.tags,"id",i.tags))}}function gi(e,r){e&1&&(u(0,"mat-icon",19),a(1,"span",68),p(2,"Edit"),c()),e&2&&s("svgIcon","heroicons_solid:pencil-square")}function xi(e,r){e&1&&(u(0,"mat-icon",19),a(1,"span",68),p(2,"Add"),c()),e&2&&s("svgIcon","heroicons_solid:plus-circle")}function bi(e,r){e&1&&u(0,"mat-icon",19),e&2&&s("svgIcon","heroicons_solid:pencil-square")}function yi(e,r){e&1&&u(0,"mat-icon",19),e&2&&s("svgIcon","heroicons_solid:check")}function ki(e,r){if(e&1){let i=D();a(0,"div",78),g("click",function(){let o=C(i).$implicit,l=d(4);return v(l.toggleContactTag(o))}),u(1,"mat-checkbox",79),a(2,"div"),p(3),c()()}if(e&2){let i=r.$implicit,t=d(4);n(),s("checked",t.contact.tags.includes(i.id))("color","primary")("disableRipple",!0),n(2),M(i.title)}}function wi(e,r){if(e&1&&I(0,ki,4,4,"div",77,T().trackByFn,!0),e&2){let i=d(3);F(i.filteredTags)}}function Si(e,r){if(e&1){let i=D();a(0,"div",71)(1,"mat-form-field",80)(2,"input",81),g("input",function(o){let l=C(i).$implicit,m=d(4);return v(m.updateTagTitle(l,o))}),c(),a(3,"button",82),g("click",function(){let o=C(i).$implicit,l=d(4);return v(l.deleteTag(o))}),u(4,"mat-icon",83),c()()()}if(e&2){let i=r.$implicit;n(),s("subscriptSizing","dynamic"),n(),s("value",i.title),n(2),s("svgIcon","heroicons_solid:trash")}}function Ti(e,r){if(e&1&&(a(0,"div",75),I(1,Si,5,3,"div",71,T().trackByFn,!0),c()),e&2){let i=d(3);n(),F(i.filteredTags)}}function Ii(e,r){if(e&1){let i=D();a(0,"div",84),g("click",function(){C(i),d();let o=U(6);return d(2).createTag(o.value),v(o.value="")}),u(1,"mat-icon",85),a(2,"div",86),p(3,' Create "'),a(4,"b"),p(5),c(),p(6,'" '),c()()}if(e&2){d();let i=U(6);n(),s("svgIcon","heroicons_solid:plus-circle"),n(4),M(i.value)}}function Fi(e,r){if(e&1){let i=D();a(0,"div",69)(1,"div",70)(2,"div",71),u(3,"mat-icon",19),a(4,"div",20)(5,"input",72,4),g("input",function(o){C(i);let l=d(2);return v(l.filterTags(o))})("keydown",function(o){C(i);let l=d(2);return v(l.filterTagsInputKeyDown(o))}),c()()(),a(7,"button",73),g("click",function(){C(i);let o=d(2);return v(o.toggleTagsEditMode())}),h(8,bi,1,1,"mat-icon",19)(9,yi,1,1,"mat-icon",19),c()(),a(10,"div",74),h(11,wi,2,0)(12,Ti,3,0,"div",75)(13,Ii,7,2,"div",76),c()()}if(e&2){let i=U(6),t=d(2);n(3),s("svgIcon","heroicons_solid:magnifying-glass"),n(2),s("maxLength",30),n(3),_(t.tagsEditMode?-1:8),n(),_(t.tagsEditMode?9:-1),n(2),_(t.tagsEditMode?-1:11),n(),_(t.tagsEditMode?12:-1),n(),_(t.shouldShowCreateTagButton(i.value)?13:-1)}}function Di(e,r){e&1&&(a(0,"mat-label"),p(1,"Email"),c())}function Ei(e,r){e&1&&(a(0,"mat-label"),p(1,"Label"),c())}function Mi(e,r){if(e&1){let i=D();a(0,"div",91)(1,"button",92),g("click",function(){C(i);let o=d().$index,l=d(2);return v(l.removeEmailField(o))}),u(2,"mat-icon",19),c()()}if(e&2){let i=d().$index;s("ngClass",H(2,we,i===0)),n(2),s("svgIcon","heroicons_solid:trash")}}function Ri(e,r){if(e&1&&(a(0,"div",25)(1,"mat-form-field",87),h(2,Di,2,0,"mat-label"),u(3,"mat-icon",50)(4,"input",88),c(),a(5,"mat-form-field",89),h(6,Ei,2,0,"mat-label"),u(7,"mat-icon",50)(8,"input",90),c(),h(9,Mi,3,4,"div",91),c()),e&2){let i=r.$implicit,t=r.$index,o=r.$count;n(),s("subscriptSizing","dynamic"),n(),_(t===0?2:-1),n(),s("svgIcon","heroicons_solid:envelope"),n(),s("formControl",i.get("email"))("placeholder","Email address")("spellcheck",!1),n(),s("subscriptSizing","dynamic"),n(),_(t===0?6:-1),n(),s("svgIcon","heroicons_solid:tag"),n(),s("formControl",i.get("label"))("placeholder","Label"),n(),_(t===0&&t===o-1?-1:9)}}function Vi(e,r){e&1&&(a(0,"mat-label"),p(1,"Phone"),c())}function $i(e,r){if(e&1&&(a(0,"mat-option",96)(1,"span",71),u(2,"span",97),a(3,"span",20),p(4),c(),a(5,"span",98),p(6),c()()()),e&2){let i=r.$implicit;s("value",i.iso),n(2),Y("background","url('/images/apps/contacts/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",i.flagImagePos),n(2),M(i.name),n(2),M(i.code)}}function Ai(e,r){e&1&&(a(0,"mat-label"),p(1,"Label"),c())}function Bi(e,r){if(e&1){let i=D();a(0,"div",91)(1,"button",92),g("click",function(){C(i);let o=d().$index,l=d(2);return v(l.removePhoneNumberField(o))}),u(2,"mat-icon",19),c()()}if(e&2){let i=d().$index;s("ngClass",H(2,we,i===0)),n(2),s("svgIcon","heroicons_solid:trash")}}function Ni(e,r){if(e&1&&(a(0,"div",58)(1,"mat-form-field",87),h(2,Vi,2,0,"mat-label"),u(3,"input",90),a(4,"mat-select",93)(5,"mat-select-trigger")(6,"span",71),u(7,"span",94),a(8,"span",95),p(9),c()()(),I(10,$i,7,9,"mat-option",96,T().trackByFn,!0),c()(),a(12,"mat-form-field",89),h(13,Ai,2,0,"mat-label"),u(14,"mat-icon",50)(15,"input",90),c(),h(16,Bi,3,4,"div",91),c()),e&2){let i=r.$implicit,t=r.$index,o=r.$count,l=d(2);n(),s("subscriptSizing","dynamic"),n(),_(t===0?2:-1),n(),s("formControl",i.get("phoneNumber"))("placeholder","Phone"),n(),s("formControl",i.get("country")),n(3),Y("background","url('/images/apps/contacts/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",l.getCountryByIso(i.get("country").value).flagImagePos),n(2),M(l.getCountryByIso(i.get("country").value).code),n(),F(l.countries),n(2),s("subscriptSizing","dynamic"),n(),_(t===0?13:-1),n(),s("svgIcon","heroicons_solid:tag"),n(),s("formControl",i.get("label"))("placeholder","Label"),n(),_(t===0&&t===o-1?-1:16)}}function Pi(e,r){if(e&1){let i=D();a(0,"div",6),h(1,_i,1,1,"img",7),a(2,"div",8)(3,"a",9),u(4,"mat-icon",10),c()()(),a(5,"div",40)(6,"div",12)(7,"form",41)(8,"div",13)(9,"div",42),u(10,"div",43),a(11,"div",44)(12,"div")(13,"input",45,0),g("change",function(){C(i);let o=U(14),l=d();return v(l.uploadAvatar(o.files))}),c(),a(15,"label",46),u(16,"mat-icon",10),c()(),a(17,"div")(18,"button",47),g("click",function(){C(i);let o=d();return v(o.removeAvatar())}),u(19,"mat-icon",10),c()()(),h(20,fi,1,1,"img",15)(21,hi,2,1,"div",16),c()(),a(22,"div",48)(23,"mat-form-field",49)(24,"mat-label"),p(25,"Name"),c(),u(26,"mat-icon",50)(27,"input",51),c()(),a(28,"div",52),h(29,vi,3,4),a(30,"div",53,1),g("click",function(){C(i);let o=d();return v(o.openTagsPanel())}),h(32,gi,3,1)(33,xi,3,1)(34,Fi,14,7,"ng-template",null,2,Rt),c()(),a(36,"div",48)(37,"mat-form-field",49)(38,"mat-label"),p(39,"Title"),c(),u(40,"mat-icon",50)(41,"input",54),c()(),a(42,"div",48)(43,"mat-form-field",49)(44,"mat-label"),p(45,"Company"),c(),u(46,"mat-icon",50)(47,"input",54),c()(),a(48,"div",48)(49,"div",55),I(50,Ri,10,12,"div",25,T().trackByFn,!0),c(),a(52,"div",56),g("click",function(){C(i);let o=d();return v(o.addEmailField())}),u(53,"mat-icon",19),a(54,"span",57),p(55,"Add an email address"),c()()(),a(56,"div",48)(57,"div",55),I(58,Ni,17,18,"div",58,T().trackByFn,!0),c(),a(60,"div",56),g("click",function(){C(i);let o=d();return v(o.addPhoneNumberField())}),u(61,"mat-icon",19),a(62,"span",57),p(63,"Add a phone number"),c()()(),a(64,"div",48)(65,"mat-form-field",49)(66,"mat-label"),p(67,"Address"),c(),u(68,"mat-icon",50)(69,"input",54),c()(),a(70,"div",48)(71,"mat-form-field",49)(72,"mat-label"),p(73,"Birthday"),c(),u(74,"mat-icon",50)(75,"input",59)(76,"mat-datepicker-toggle",60)(77,"mat-datepicker",null,3),c()(),a(79,"div",48)(80,"mat-form-field",49)(81,"mat-label"),p(82,"Notes"),c(),u(83,"mat-icon",50)(84,"textarea",61),c()(),a(85,"div",62)(86,"button",63),g("click",function(){C(i);let o=d();return v(o.deleteContact())}),p(87," Delete "),c(),a(88,"button",64),g("click",function(){C(i);let o=d();return v(o.toggleEditMode(!1))}),p(89," Cancel "),c(),a(90,"button",65),g("click",function(){C(i);let o=d();return v(o.updateContact())}),p(91," Save "),c()()()()()}if(e&2){let i=U(78),t=d();n(),_(t.contact.background?1:-1),n(2),s("matTooltip","Close")("routerLink",K(51,ke)),n(),s("svgIcon","heroicons_outline:x-mark"),n(3),s("formGroup",t.contactForm),n(6),s("multiple",!1)("accept","image/jpeg, image/png"),n(3),s("svgIcon","heroicons_outline:camera"),n(3),s("svgIcon","heroicons_outline:trash"),n(),_(t.contact.avatar?20:-1),n(),_(t.contact.avatar?-1:21),n(2),s("subscriptSizing","dynamic"),n(3),s("svgIcon","heroicons_solid:user-circle"),n(),s("formControlName","name")("placeholder","Name")("spellcheck",!1),n(2),_(t.contact.tags.length?29:-1),n(3),_(t.contact.tags.length?32:-1),n(),_(t.contact.tags.length?-1:33),n(4),s("subscriptSizing","dynamic"),n(3),s("svgIcon","heroicons_solid:briefcase"),n(),s("formControlName","title")("placeholder","Job title"),n(2),s("subscriptSizing","dynamic"),n(3),s("svgIcon","heroicons_solid:building-office-2"),n(),s("formControlName","company")("placeholder","Company"),n(3),F(t.contactForm.get("emails").controls),n(3),s("svgIcon","heroicons_solid:plus-circle"),n(5),F(t.contactForm.get("phoneNumbers").controls),n(3),s("svgIcon","heroicons_solid:plus-circle"),n(4),s("subscriptSizing","dynamic"),n(3),s("svgIcon","heroicons_solid:map-pin"),n(),s("formControlName","address")("placeholder","Address"),n(2),s("subscriptSizing","dynamic"),n(3),s("svgIcon","heroicons_solid:cake"),n(),s("matDatepicker",i)("formControlName","birthday")("placeholder","Birthday"),n(),s("for",i),n(4),s("subscriptSizing","dynamic"),n(3),s("svgIcon","heroicons_solid:bars-3-bottom-left"),n(),s("formControlName","notes")("placeholder","Notes")("rows",5)("spellcheck",!1),n(2),s("color","warn")("matTooltip","Delete"),n(2),s("matTooltip","Cancel"),n(2),s("color","primary")("disabled",t.contactForm.invalid)("matTooltip","Save")}}var Se=(()=>{let r=class r{constructor(t,o,l,m,f,y,$,Te,Ie,Fe){this._activatedRoute=t,this._changeDetectorRef=o,this._contactsListComponent=l,this._contactsService=m,this._formBuilder=f,this._fuseConfirmationService=y,this._renderer2=$,this._router=Te,this._overlay=Ie,this._viewContainerRef=Fe,this.editMode=!1,this.tagsEditMode=!1,this._unsubscribeAll=new W}ngOnInit(){this._contactsListComponent.matDrawer.open(),this.contactForm=this._formBuilder.group({id:[""],avatar:[null],name:["",[Jt.required]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),title:[""],company:[""],birthday:[null],address:[null],notes:[null],tags:[[]]}),this._contactsService.contacts$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this.contacts=t,this._changeDetectorRef.markForCheck()}),this._contactsService.contact$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this._contactsListComponent.matDrawer.open(),this.contact=t,this.contactForm.get("emails").clear(),this.contactForm.get("phoneNumbers").clear(),this.contactForm.patchValue(t);let o=[];t.emails.length>0?t.emails.forEach(m=>{o.push(this._formBuilder.group({email:[m.email],label:[m.label]}))}):o.push(this._formBuilder.group({email:[""],label:[""]})),o.forEach(m=>{this.contactForm.get("emails").push(m)});let l=[];t.phoneNumbers.length>0?t.phoneNumbers.forEach(m=>{l.push(this._formBuilder.group({country:[m.country],phoneNumber:[m.phoneNumber],label:[m.label]}))}):l.push(this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]})),l.forEach(m=>{this.contactForm.get("phoneNumbers").push(m)}),this.toggleEditMode(!1),this._changeDetectorRef.markForCheck()}),this._contactsService.countries$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this.countries=t,this._changeDetectorRef.markForCheck()}),this._contactsService.tags$.pipe(S(this._unsubscribeAll)).subscribe(t=>{this.tags=t,this.filteredTags=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._contactsListComponent.matDrawer.close()}toggleEditMode(t=null){t===null?this.editMode=!this.editMode:this.editMode=t,this._changeDetectorRef.markForCheck()}updateContact(){let t=this.contactForm.getRawValue();t.emails=t.emails.filter(o=>o.email),t.phoneNumbers=t.phoneNumbers.filter(o=>o.phoneNumber),this._contactsService.updateContact(t.id,t).subscribe(()=>{this.toggleEditMode(!1)})}deleteContact(){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(o=>{if(o==="confirmed"){let l=this.contact.id,m=this.contacts.findIndex($=>$.id===l),f=m+(m===this.contacts.length-1?-1:1),y=this.contacts.length===1&&this.contacts[0].id===l?null:this.contacts[f].id;this._contactsService.deleteContact(l).subscribe($=>{$&&(y?this._router.navigate(["../",y],{relativeTo:this._activatedRoute}):this._router.navigate(["../"],{relativeTo:this._activatedRoute}),this.toggleEditMode(!1))}),this._changeDetectorRef.markForCheck()}})}uploadAvatar(t){if(!t.length)return;let o=["image/jpeg","image/png"],l=t[0];o.includes(l.type)&&this._contactsService.uploadAvatar(this.contact.id,l).subscribe()}removeAvatar(){this.contactForm.get("avatar").setValue(null),this._avatarFileInput.nativeElement.value=null,this.contact.avatar=null}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._renderer2.addClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});let t=new Ot(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(t),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._renderer2.removeClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),t&&t.isAttached&&t.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(t){let o=t.target.value.toLowerCase();this.filteredTags=this.tags.filter(l=>l.title.toLowerCase().includes(o))}filterTagsInputKeyDown(t){if(t.key!=="Enter")return;if(this.filteredTags.length===0){this.createTag(t.target.value),t.target.value="";return}let o=this.filteredTags[0];this.contact.tags.find(m=>m===o.id)?this.removeTagFromContact(o):this.addTagToContact(o)}createTag(t){let o={title:t};this._contactsService.createTag(o).subscribe(l=>{this.addTagToContact(l)})}updateTagTitle(t,o){t.title=o.target.value,this._contactsService.updateTag(t.id,t).pipe(wt(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(t){this._contactsService.deleteTag(t.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToContact(t){this.contact.tags.unshift(t.id),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}removeTagFromContact(t){this.contact.tags.splice(this.contact.tags.findIndex(o=>o===t.id),1),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}toggleContactTag(t){this.contact.tags.includes(t.id)?this.removeTagFromContact(t):this.addTagToContact(t)}shouldShowCreateTagButton(t){return!(t===""||this.tags.findIndex(o=>o.title.toLowerCase()===t.toLowerCase())>-1)}addEmailField(){let t=this._formBuilder.group({email:[""],label:[""]});this.contactForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.contactForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){let t=this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]});this.contactForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.contactForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}getCountryByIso(t){return this.countries.find(o=>o.iso===t)}trackByFn(t,o){return o.id||t}};r.\u0275fac=function(o){return new(o||r)(x(et),x(Z),x(vt),x(R),x(oe),x(Ht),x(Ft),x(q),x(Ut),x(Dt))},r.\u0275cmp=j({type:r,selectors:[["contacts-details"]],viewQuery:function(o,l){if(o&1&&(z(He,5),z(We,5),z(Xe,5)),o&2){let m;L(m=O())&&(l._avatarFileInput=m.first),L(m=O())&&(l._tagsPanel=m.first),L(m=O())&&(l._tagsPanelOrigin=m.first)}},standalone:!0,features:[Q],decls:3,vars:2,consts:[["avatarFileInput",""],["tagsPanelOrigin",""],["tagsPanel",""],["birthdayDatepicker",""],["newTagInput",""],[1,"flex","w-full","flex-col"],[1,"relative","h-40","w-full","bg-accent-100","px-8","dark:bg-accent-700","sm:h-48","sm:px-12"],[1,"absolute","inset-0","h-full","w-full","object-cover",3,"src"],[1,"mx-auto","flex","w-full","max-w-3xl","items-center","justify-end","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-auto","flex-col","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"-mt-16","flex","flex-auto","items-end"],[1,"ring-bg-card","flex","h-32","w-32","items-center","justify-center","overflow-hidden","rounded-full","ring-4"],[1,"h-full","w-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","overflow-hidden","rounded","bg-gray-200","text-8xl","font-bold","uppercase","leading-none","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"mb-1","ml-auto","flex","items-center"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","truncate","text-4xl","font-bold"],[1,"mt-2","flex","flex-wrap","items-center"],[1,"mt-4","flex","flex-col","space-y-8","border-t","pt-6"],[1,"flex","sm:items-center"],[1,"flex"],[1,"mb-3","mr-3","flex","items-center","justify-center","rounded-full","bg-gray-100","px-3","py-1","leading-normal","text-gray-500","dark:bg-gray-700","dark:text-gray-300"],[1,"whitespace-nowrap","text-sm","font-medium"],[3,"svgIcon"],[1,"ml-6","leading-6"],[1,"ml-6","min-w-0","space-y-1"],[1,"flex","items-center","leading-6"],["target","_blank",1,"text-primary-500","hover:underline",3,"href"],[1,"text-secondary","truncate","text-md"],[1,"mx-2"],[1,"font-medium"],[1,"hidden","h-4","w-6","overflow-hidden","sm:flex",3,"matTooltip"],[1,"font-mono","sm:ml-3"],[1,"ml-2.5","font-mono"],[1,"prose","prose-sm","ml-6","max-w-none",3,"innerHTML"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"ring-bg-card","relative","flex","h-32","w-32","items-center","justify-center","overflow-hidden","rounded-full","ring-4"],[1,"absolute","inset-0","z-10","bg-black","bg-opacity-50"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],["id","avatar-file-input","type","file",1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0",3,"change","multiple","accept"],["for","avatar-file-input","matRipple","",1,"flex","h-10","w-10","cursor-pointer","items-center","justify-center","rounded-full","hover:bg-hover"],["mat-icon-button","",3,"click"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],[1,"-m-1.5","mt-6","flex","flex-wrap","items-center"],[1,"m-1.5","flex","cursor-pointer","items-center","justify-center","rounded-full","bg-gray-100","px-4","leading-9","text-gray-500","dark:bg-gray-700","dark:text-gray-300",3,"click"],["matInput","",3,"formControlName","placeholder"],[1,"space-y-4"],[1,"group","-ml-4","mt-2","inline-flex","cursor-pointer","items-center","rounded","px-4","py-2",3,"click"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"relative","flex"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matSuffix","",3,"for"],["matInput","","cdkTextareaAutosize","",3,"formControlName","placeholder","rows","spellcheck"],[1,"-mx-6","mt-10","flex","items-center","border-t","bg-gray-50","py-4","pl-1","pr-4","dark:bg-transparent","sm:-mx-12","sm:pl-7","sm:pr-12"],["mat-button","",3,"click","color","matTooltip"],["mat-button","",1,"ml-auto",3,"click","matTooltip"],["mat-flat-button","",1,"ml-2",3,"click","color","disabled","matTooltip"],[1,"m-1.5","flex","items-center","justify-center","rounded-full","bg-gray-100","px-4","leading-9","text-gray-500","dark:bg-gray-700","dark:text-gray-300"],[1,"whitespace-nowrap","text-md","font-medium"],[1,"ml-1.5","whitespace-nowrap","text-md","font-medium"],[1,"bg-card","w-60","rounded","border","shadow-md"],[1,"m-3","mr-2","flex","items-center"],[1,"flex","items-center"],["type","text","placeholder","Enter tag name",1,"w-full","min-w-0","border-0","py-1",3,"input","keydown","maxLength"],["mat-icon-button","",1,"ml-1",3,"click"],[1,"flex","max-h-64","flex-col","overflow-y-auto","border-t","py-2"],[1,"space-y-2","py-2"],["matRipple","",1,"-ml-0.5","flex","h-10","min-h-10","cursor-pointer","items-center","pl-4","pr-3","leading-none","hover:bg-hover"],["matRipple","",1,"flex","h-10","min-h-10","cursor-pointer","items-center","pl-1","pr-4","hover:bg-hover"],["matRipple","",1,"flex","h-10","min-h-10","cursor-pointer","items-center","pl-1","pr-4","hover:bg-hover",3,"click"],[1,"pointer-events-none","flex","h-10","min-h-10","items-center",3,"checked","color","disableRipple"],[1,"fuse-mat-dense","mx-4","w-full",3,"subscriptSizing"],["matInput","",3,"input","value"],["mat-icon-button","","matSuffix","",3,"click"],[1,"ml-2","icon-size-5",3,"svgIcon"],["matRipple","",1,"-ml-0.5","flex","h-10","min-h-10","cursor-pointer","items-center","pl-4","pr-3","leading-none","hover:bg-hover",3,"click"],[1,"mr-2","icon-size-5",3,"svgIcon"],[1,"break-all"],[1,"flex-auto",3,"subscriptSizing"],["matInput","",3,"formControl","placeholder","spellcheck"],[1,"ml-2","w-full","max-w-24","flex-auto","sm:ml-4","sm:max-w-40",3,"subscriptSizing"],["matInput","",3,"formControl","placeholder"],[1,"flex","w-10","items-center","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Remove",1,"h-8","min-h-8","w-8",3,"click"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"mr-1","hidden","h-4","w-6","overflow-hidden","sm:flex"],[1,"text-default","font-medium","sm:mx-0.5"],[3,"value"],[1,"h-4","w-6","overflow-hidden"],[1,"ml-2","font-medium"]],template:function(o,l){o&1&&(a(0,"div",5),h(1,ui,27,17)(2,Pi,92,52),c()),o&2&&(n(),_(l.editMode?-1:1),n(),_(l.editMode?2:-1))},dependencies:[lt,ct,Kt,Gt,Yt,Xt,nt,mt,st,_t,ee,dt,pt,Zt,ft,ut,ie,ne,jt,Pt,rt,at,Qt,ot,qt,Ct,ht,ae,le,ce,tt,de,se,me,zt,Lt,xe,Ce,ve,ge,re,he,At],encapsulation:2,changeDetection:0});let e=r;return e})();var ji=(e,r)=>{let i=B(R),t=B(q);return i.getContactById(e.paramMap.get("id")).pipe(kt(o=>{console.error(o);let l=r.url.split("/").slice(0,-1).join("/");return t.navigateByUrl(l),X(o)}))},zi=(e,r,i,t)=>{let o=t.root;for(;o.firstChild;)o=o.firstChild;return!t.url.includes("/contacts")||o.paramMap.get("id")?!0:e.closeDrawer().then(()=>!0)},An=[{path:"",component:be,resolve:{tags:()=>B(R).getTags()},children:[{path:"",component:vt,resolve:{contacts:()=>B(R).getContacts(),countries:()=>B(R).getCountries()},children:[{path:":id",component:Se,resolve:{contact:ji,countries:()=>B(R).getCountries()},canDeactivate:[zi]}]}]}];export{An as default};
