import{a as fe,b as ve,c as _e,d as ge}from"./chunk-VVQWPJ3X.js";import{a as pe,b as ue}from"./chunk-OBMFXYQV.js";import{c as se}from"./chunk-W4IV6SAA.js";import"./chunk-YCUPTL4E.js";import"./chunk-2WF3BAZE.js";import"./chunk-J44A7NQY.js";import"./chunk-K5KQA6TL.js";import"./chunk-6VFWJ4EV.js";import{a as $,c as de,d as O,e as V}from"./chunk-IDU54J7C.js";import{b as z,c as U}from"./chunk-FLSFYQN3.js";import"./chunk-4RUIE36X.js";import"./chunk-ILZLEP6A.js";import"./chunk-BPAYJYXU.js";import{b as me,c as B,d as I,e as A}from"./chunk-KU56Z7YF.js";import{c as ce}from"./chunk-DT5IGS4I.js";import"./chunk-XQUWTDXC.js";import{Bb as E,E as Q,Fb as D,Gb as s,I as Z,Jb as L,Kb as T,Lb as r,Mb as o,Mc as R,Nb as p,Rb as G,W as ee,X as C,Xb as H,Z as te,Zb as u,aa as ie,bb as n,bc as oe,cb as _,cc as re,dc as ae,f as k,fa as ne,fc as m,g as P,ga as b,gc as v,hc as x,ic as le,la as y,m as N,n as S,pc as M,qc as j,r as Y,rc as F,wa as X,xa as W,xb as f,zb as d}from"./chunk-ABXAS3LN.js";import"./chunk-UGUGGRN7.js";var h=(()=>{let t=class t{constructor(l){this._httpClient=l,this._item=new P(null),this._items=new P(null)}get items$(){return this._items.asObservable()}get item$(){return this._item.asObservable()}getItems(l=null){return this._httpClient.get("api/apps/file-manager",{params:{folderId:l}}).pipe(te(a=>{this._items.next(a)}))}getItemById(l){return this._items.pipe(Z(1),Y(a=>{let c=[...a.folders,...a.files].find(g=>g.id===l)||null;return this._item.next(c),c}),ee(a=>a?N(a):S("Could not found the item with id of "+l+"!")))}};t.\u0275fac=function(a){return new(a||t)(ne(ce))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ie=["matDrawer"],we=()=>["/apps/file-manager"],he=e=>["/apps/file-manager/folders/",e],Ce=e=>["./details/",e];function ke(e,t){if(e&1&&m(0),e&2){let i=u();le(" ",i.items.folders.length," folders, ",i.items.files.length," files ")}}function Ee(e,t){if(e&1&&(r(0,"a",16),m(1),o()),e&2){let i=u().$implicit;d("routerLink",F(2,he,i.id)),n(),v(i.name)}}function De(e,t){if(e&1&&(r(0,"div"),m(1),o()),e&2){let i=u().$implicit;n(),v(i.name)}}function Le(e,t){e&1&&(r(0,"div",17),m(1,"/"),o())}function Te(e,t){if(e&1&&f(0,Ee,2,4,"a",16)(1,De,2,1,"div")(2,Le,2,0,"div",17),e&2){let i=t.$index,l=t.$count;s(i!==l-1?0:-1),n(),s(i===l-1?1:-1),n(),s(i!==l-1?2:-1)}}function je(e,t){if(e&1&&(r(0,"div",9)(1,"a",16),m(2,"Home "),o(),r(3,"div",17),m(4,"/"),o(),L(5,Te,3,3,null,null,D().trackByFn,!0),o()),e&2){let i=u();n(),d("routerLink",j(1,we)),n(4),T(i.items.path)}}function Re(e,t){if(e&1&&(r(0,"div",29),m(1),o()),e&2){let i=u().$implicit;n(),x(" ",i.contents," ")}}function Be(e,t){if(e&1){let i=G();r(0,"div",20)(1,"a",21),H("click",function(a){return X(i),W(a.preventDefault())}),p(2,"mat-icon",22),o(),r(3,"a",23)(4,"div",24)(5,"div",25),p(6,"mat-icon",26),o()(),r(7,"div",27)(8,"div",28),m(9),o(),f(10,Re,2,1,"div",29),o()()()}if(e&2){let i=t.$implicit;n(),d("routerLink",F(7,Ce,i.id)),n(),d("svgIcon","heroicons_solid:information-circle"),n(),d("routerLink",F(9,he,i.id)),n(3),d("svgIcon","heroicons_solid:folder"),n(2),d("matTooltip",i.name),n(),x(" ",i.name," "),n(),s(i.contents?10:-1)}}function Ae(e,t){if(e&1&&(r(0,"div")(1,"div",18),m(2,"Folders"),o(),r(3,"div",19),L(4,Be,11,11,"div",20,D().trackByFn,!0),o()()),e&2){let i=u(2);n(4),T(i.items.folders)}}function $e(e,t){if(e&1&&(r(0,"div",29),m(1),o()),e&2){let i=u().$implicit;n(),x(" ",i.contents," ")}}function Oe(e,t){if(e&1&&(r(0,"a",30)(1,"div",24)(2,"div",25)(3,"div",31),p(4,"mat-icon",26),r(5,"div",32),m(6),o()()()(),r(7,"div",27)(8,"div",28),m(9),o(),f(10,$e,2,1,"div",29),o()()),e&2){let i=t.$implicit;d("routerLink",F(16,Ce,i.id)),n(4),d("svgIcon","heroicons_solid:document"),n(),E("bg-red-600",i.type==="PDF")("bg-blue-600",i.type==="DOC")("bg-green-600",i.type==="XLS")("bg-gray-600",i.type==="TXT")("bg-amber-600",i.type==="JPG"),n(),x(" ",i.type.toUpperCase()," "),n(2),d("matTooltip",i.name),n(),x(" ",i.name," "),n(),s(i.contents?10:-1)}}function Ve(e,t){if(e&1&&(r(0,"div")(1,"div",18),m(2,"Files"),o(),r(3,"div",19),L(4,Oe,11,18,"a",30,D().trackByFn,!0),o()()),e&2){let i=u(2);n(4),T(i.items.files)}}function ze(e,t){if(e&1&&(r(0,"div",14),f(1,Ae,6,0,"div")(2,Ve,6,0,"div"),o()),e&2){let i=u();n(),s(i.items.folders.length>0?1:-1),n(),s(i.items.files.length>0?2:-1)}}function Ue(e,t){e&1&&(r(0,"div",15),p(1,"mat-icon",33),r(2,"div",34),m(3," There are no items! "),o()()),e&2&&(n(),d("svgIcon","heroicons_outline:folder-open"))}var w=(()=>{let t=class t{constructor(l,a,c,g,K){this._activatedRoute=l,this._changeDetectorRef=a,this._router=c,this._fileManagerService=g,this._fuseMediaWatcherService=K,this._unsubscribeAll=new k}ngOnInit(){this._fileManagerService.items$.pipe(C(this._unsubscribeAll)).subscribe(l=>{this.items=l,this._changeDetectorRef.markForCheck()}),this._fileManagerService.item$.pipe(C(this._unsubscribeAll)).subscribe(l=>{this.selectedItem=l,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe(C(this._unsubscribeAll)).subscribe(l=>{this.drawerMode=l.matches?"side":"over",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(l,a){return a.id||l}};t.\u0275fac=function(a){return new(a||t)(_(me),_(R),_(I),_(h),_(se))},t.\u0275cmp=y({type:t,selectors:[["file-manager-list"]],viewQuery:function(a,c){if(a&1&&oe(Ie,7),a&2){let g;re(g=ae())&&(c.matDrawer=g.first)}},standalone:!0,features:[M],decls:21,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","h-full","flex-auto","dark:bg-transparent",3,"backdropClick"],[1,"w-full","dark:bg-gray-900","sm:w-100",3,"mode","opened","position","disableClose"],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-auto","flex-col"],[1,"bg-card","flex","flex-col","items-start","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:py-12","md:px-8"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],[1,"text-secondary","mt-0.5","flex","items-center","font-medium"],[1,"flex","items-center","space-x-2"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"space-y-8","p-6","md:p-8"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"cursor-pointer","text-primary",3,"routerLink"],[1,""],[1,"font-medium"],[1,"-m-2","mt-2","flex","flex-wrap"],[1,"bg-card","relative","m-2","h-40","w-40","rounded-2xl","p-4","shadow"],["mat-icon-button","",1,"absolute","right-1.5","top-1.5","z-20","h-8","min-h-8","w-8",3,"click","routerLink"],[1,"icon-size-5",3,"svgIcon"],[1,"absolute","inset-0","z-10","flex","cursor-pointer","flex-col","p-4",3,"routerLink"],[1,"aspect-[9/6]"],[1,"flex","h-full","items-center","justify-center"],[1,"text-hint","opacity-50","icon-size-14",3,"svgIcon"],[1,"flex","flex-auto","flex-col","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"text-secondary","truncate"],[1,"bg-card","m-2","flex","h-40","w-40","cursor-pointer","flex-col","rounded-2xl","p-4","shadow",3,"routerLink"],[1,"relative"],[1,"absolute","bottom-0","left-0","rounded","px-1.5","text-sm","font-semibold","leading-5","text-white"],[1,"icon-size-24",3,"svgIcon"],[1,"text-secondary","mt-4","text-2xl","font-semibold","tracking-tight"]],template:function(a,c){if(a&1){let g=G();r(0,"div",1)(1,"mat-drawer-container",2),H("backdropClick",function(){return X(g),W(c.onBackdropClicked())}),r(2,"mat-drawer",3,0),p(4,"router-outlet"),o(),r(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),m(10," File Manager "),o(),r(11,"div",8),f(12,ke,1,2)(13,je,7,2,"div",9),o()(),r(14,"div",10)(15,"button",11),p(16,"mat-icon",12),r(17,"span",13),m(18,"Upload file"),o()()()(),f(19,ze,3,2,"div",14)(20,Ue,4,1,"div",15),o()()()()}a&2&&(n(2),d("mode",c.drawerMode)("opened",!1)("position","end")("disableClose",!0),n(10),s(c.items.path.length?-1:12),n(),s(c.items.path.length?13:-1),n(2),d("color","primary"),n(),d("svgIcon","heroicons_outline:plus"),n(3),s(c.items&&(c.items.folders.length>0||c.items.files.length>0)?19:20))},dependencies:[ge,ve,_e,fe,B,A,V,$,O,U,z,ue,pe],encapsulation:2,changeDetection:0});let e=t;return e})();var Qe=()=>["../../"];function Xe(e,t){e&1&&p(0,"mat-icon",6),e&2&&d("svgIcon","heroicons_outline:folder")}function We(e,t){e&1&&p(0,"mat-icon",6),e&2&&d("svgIcon","heroicons_outline:document")}function Ge(e,t){if(e&1&&(r(0,"div",12)(1,"div",13),m(2,"Contents"),o(),r(3,"div"),m(4),o()()),e&2){let i=u();n(4),v(i.item.contents)}}function He(e,t){if(e&1&&(r(0,"div"),m(1),o()),e&2){let i=u();n(),v(i.item.description)}}function Je(e,t){e&1&&(r(0,"div",20),m(1," Click here to add a description "),o())}var q=(()=>{let t=class t{constructor(l,a,c){this._changeDetectorRef=l,this._fileManagerListComponent=a,this._fileManagerService=c,this._unsubscribeAll=new k}ngOnInit(){this._fileManagerListComponent.matDrawer.open(),this._fileManagerService.item$.pipe(C(this._unsubscribeAll)).subscribe(l=>{this._fileManagerListComponent.matDrawer.open(),this.item=l,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDrawer(){return this._fileManagerListComponent.matDrawer.close()}trackByFn(l,a){return a.id||l}};t.\u0275fac=function(a){return new(a||t)(_(R),_(w),_(h))},t.\u0275cmp=y({type:t,selectors:[["file-manager-details"]],standalone:!0,features:[M],decls:51,vars:28,consts:[[1,"flex","flex-auto","flex-col","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"mt-8","aspect-[9/6]"],[1,"flex","h-full","items-center","justify-center","rounded-lg","border","bg-gray-50","dark:bg-card"],[1,"text-hint","icon-size-24",3,"svgIcon"],[1,"mt-8","flex","flex-col","items-start"],[1,"text-xl","font-medium"],[1,"mt-1","rounded","px-1.5","text-sm","font-semibold","leading-5","text-white"],[1,"mt-8","text-lg","font-medium"],[1,"mt-4","flex","flex-col","divide-y","border-b","border-t","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"mt-8","flex","items-center","justify-between"],[1,"text-lg","font-medium"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"mt-2","flex","border-t"],[1,"py-3"],[1,"text-secondary","italic"],[1,"mt-8","grid","w-full","grid-cols-2","gap-4"],["mat-flat-button","",1,"flex-auto",3,"color"],["mat-stroked-button","",1,"flex-auto"]],template:function(a,c){a&1&&(r(0,"div",0)(1,"div",1)(2,"a",2),p(3,"mat-icon",3),o()(),r(4,"div",4)(5,"div",5),f(6,Xe,1,1,"mat-icon",6)(7,We,1,1,"mat-icon",6),o()(),r(8,"div",7)(9,"div",8),m(10),o(),r(11,"div",9),m(12),o()(),r(13,"div",10),m(14,"Information"),o(),r(15,"div",11)(16,"div",12)(17,"div",13),m(18,"Created By"),o(),r(19,"div"),m(20),o()(),r(21,"div",12)(22,"div",13),m(23,"Created At"),o(),r(24,"div"),m(25),o()(),r(26,"div",12)(27,"div",13),m(28,"Modified At"),o(),r(29,"div"),m(30),o()(),r(31,"div",12)(32,"div",13),m(33,"Size"),o(),r(34,"div"),m(35),o()(),f(36,Ge,5,1,"div",12),o(),r(37,"div",14)(38,"div",15),m(39,"Description"),o(),r(40,"button",16),p(41,"mat-icon",17),o()(),r(42,"div",18)(43,"div",19),f(44,He,2,1,"div")(45,Je,2,0,"div",20),o()(),r(46,"div",21)(47,"button",22),m(48," Download "),o(),r(49,"button",23),m(50,"Delete"),o()()()),a&2&&(n(2),d("routerLink",j(27,Qe)),n(),d("svgIcon","heroicons_outline:x-mark"),n(3),s(c.item.type==="folder"?6:-1),n(),s(c.item.type!=="folder"?7:-1),n(3),v(c.item.name),n(),E("bg-indigo-600",c.item.type==="folder")("bg-red-600",c.item.type==="PDF")("bg-blue-600",c.item.type==="DOC")("bg-green-600",c.item.type==="XLS")("bg-gray-600",c.item.type==="TXT")("bg-amber-600",c.item.type==="JPG"),n(),x(" ",c.item.type.toUpperCase()," "),n(8),v(c.item.createdBy),n(5),v(c.item.createdAt),n(5),v(c.item.modifiedAt),n(5),v(c.item.size),n(),s(c.item.contents?36:-1),n(5),d("svgIcon","heroicons_solid:pencil"),n(3),s(c.item.description?44:-1),n(),s(c.item.description?-1:45),n(2),d("color","primary"))},dependencies:[V,$,O,de,A,U,z],encapsulation:2,changeDetection:0});let e=t;return e})();var be=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=y({type:t,selectors:[["file-manager"]],standalone:!0,features:[M],decls:1,vars:0,template:function(a,c){a&1&&p(0,"router-outlet")},dependencies:[B],encapsulation:2,changeDetection:0});let e=t;return e})();var qe=(e,t)=>{let i=b(h),l=b(I);return i.getItems(e.paramMap.get("folderId")).pipe(Q(a=>{console.error(a);let c=t.url.split("/").slice(0,-1).join("/");return l.navigateByUrl(c),S(a)}))},ye=(e,t)=>{let i=b(h),l=b(I);return i.getItemById(e.paramMap.get("id")).pipe(Q(a=>{console.error(a);let c=t.url.split("/").slice(0,-1).join("/");return l.navigateByUrl(c),S(a)}))},Me=(e,t,i,l)=>{let a=l.root;for(;a.firstChild;)a=a.firstChild;return!l.url.includes("/file-manager")||l.url.includes("/details")?!0:e.closeDrawer().then(()=>!0)},yt=[{path:"",component:be,children:[{path:"folders/:folderId",component:w,resolve:{item:qe},children:[{path:"details/:id",component:q,resolve:{item:ye},canDeactivate:[Me]}]},{path:"",component:w,resolve:{items:()=>b(h).getItems()},children:[{path:"details/:id",component:q,resolve:{item:ye},canDeactivate:[Me]}]}]}];export{yt as default};
