"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[465],{5465:(F,_,l)=>{l.d(_,{t:()=>B});var e=l(4020),u=l(6397),p=l(5779),a=l(9417),c=l(1141),M=l(2242),m=l(7471),g=l(4799),h=l(8150),y=l(6276),b=l(293),T=l(335),f=l(7722),C=l(563),R=l(3400),j=l(7730),D=l(507),P=l(3823),I=l(3523);function U(r,A){if(1&r){const d=e.RV6();e.j41(0,"div",20)(1,"div",21),e.nrm(2,"i",22),e.k0s(),e.j41(3,"span",23),e.EFF(4),e.k0s(),e.j41(5,"p",24),e.EFF(6),e.k0s(),e.j41(7,"div",25)(8,"button",26),e.nI1(9,"transloco"),e.bIt("click",function(){const i=e.eBV(d).onAccept;return e.Njj(i())}),e.k0s(),e.j41(10,"button",27),e.nI1(11,"transloco"),e.bIt("click",function(){const i=e.eBV(d).onReject;return e.Njj(i())}),e.k0s()()()}if(2&r){const d=A.$implicit;e.R7$(4),e.JRh(d.header),e.R7$(2),e.JRh(d.message),e.R7$(2),e.FS9("label",e.bMT(9,5,"module.dialog.button.yes")),e.R7$(2),e.FS9("label",e.bMT(11,7,"module.dialog.button.no")),e.Y8G("outlined",!0)}}let B=(()=>{class r{constructor(d,s,i,o,n,t,E){this.route=d,this.confirmationService=s,this.messagesApiFacadeService=i,this._primengProgressBarService=o,this.transloco=n,this.apiGatewayService=t,this.notifierService=E,this.close=new e.bkB,this.moduleTypeOptions=u.a.moduleType,this.authenticationMethodOptions=u.a.authenticationMethod,this.moduleTitle=null,this.moduleGroup=null,this.moduleAuthMode=null,this.esbMode=null,this.description=null,this.retryCount=null,this.delayRetryTime=null,this.limitForPeriod=null,this.limitRefreshPeriod=null,this.detailsBreadObject=[],this.moduleDto={moduleId:null,partyId:null,moduleTitle:"",moduleType:null,moduleGroup:null,moduleAuthMode:null,esbMode:null,status:null,description:"",retryCount:null,delayRetryTime:null,limitForPeriod:null,limitRefreshPeriod:null},this.varChangeFlag=!1}confirm1(){this.confirmationService.confirm({message:this.transloco.translate("registerModule.message.sureDeactivateModule"),header:this.transloco.translate("module.dialog.header.deActiveModule"),icon:"pi pi-exclamation-triangle",accept:()=>this.onAccept(),reject:()=>this.rejectFunc()})}scrollTop(){this.route.fragment.subscribe(d=>{const s=document.querySelector("#"+d);console.log(s),s&&s.scrollIntoView(!0)})}ngOnInit(){this.scrollTop(),this.varChangeFlag=!1,null!=this.inputPartyBaseModuleUpdate?(this.basemoduleFlag=this.inputPartyBaseModuleUpdate?.basemoduleFlag,this.partyId=this.inputPartyBaseModuleUpdate?.partyId,this.title=this.inputPartyBaseModuleUpdate?.title,this.moduleId=this.inputPartyBaseModuleUpdate?.moduleId,this.moduleTitle=this.inputPartyBaseModuleUpdate.moduleTitle,this.moduleTypeValue=this.inputPartyBaseModuleUpdate?.moduleType?.toString(),this.moduleGroup=this.inputPartyBaseModuleUpdate?.moduleGroup?.toString(),this.moduleAuthMode=this.inputPartyBaseModuleUpdate?.moduleAuthMode?.toString(),this.esbMode=this.inputPartyBaseModuleUpdate?.esbMode,this.description=this.inputPartyBaseModuleUpdate?.description,this.retryCount=this.inputPartyBaseModuleUpdate?.retryCount,this.delayRetryTime=this.inputPartyBaseModuleUpdate?.delayRetryTime,this.limitForPeriod=this.inputPartyBaseModuleUpdate?.limitForPeriod,this.limitRefreshPeriod=this.inputPartyBaseModuleUpdate?.limitRefreshPeriod,this.status=1==this.inputPartyBaseModuleUpdate.status,this.detailsBreadObject=this.chooseBread("partyBase")):null!=this.inputModuleUpdate&&(this.basemoduleFlag=this.inputModuleUpdate?.basemoduleFlag,this.partyId=this.inputModuleUpdate?.partyId,this.title=this.inputModuleUpdate?.title,this.moduleId=this.inputModuleUpdate?.moduleId,this.moduleTitle=this.inputModuleUpdate.moduleTitle,this.moduleTypeValue=this.inputModuleUpdate?.moduleType?.toString(),this.moduleGroup=this.inputModuleUpdate?.moduleGroup?.toString(),this.moduleAuthMode=this.inputModuleUpdate?.moduleAuthMode?.toString(),this.esbMode=this.inputModuleUpdate?.esbMode,this.description=this.inputModuleUpdate?.description,this.retryCount=this.inputModuleUpdate?.retryCount,this.delayRetryTime=this.inputModuleUpdate?.delayRetryTime,this.limitForPeriod=this.inputModuleUpdate?.limitForPeriod,this.limitRefreshPeriod=this.inputModuleUpdate?.limitRefreshPeriod,this.status=1==this.inputModuleUpdate.status,this.partyTitle=this.inputModuleUpdate.title,this.detailsBreadObject=this.chooseBread("moduleBase")),this.apiGatewayService.updateApprovalDetailsBreadObject(this.detailsBreadObject)}chooseBread(d){switch(d){case"partyBase":return[{index:0,label_index0:this.transloco.translate("breadcrumbs.serviceRecipients"),img_index0:"assets/icons/team.png",rout_index0:"/home",isActive0:!1},{index:1,label_index1:this.transloco.translate("breadcrumbs.party"),rout_index1:"/party",isActive1:!1,img_index1:"assets/icons/party.png"},{index:2,label_index2:this.transloco.translate("breadcrumbs.module"),rout_index2:"",isActive2:!0,label_Detail_index2:"("+this.partyTitle+")",img_index2:"assets/icons/module.png"},{index:3,label_index3:this.transloco.translate("editModule.header.header"),rout_index3:"/registerRule",isActive3:!0,img_index3:"assets/icons/update.png"},{label_index4:null,label_Detail_index4:null},{label_index5:null,label_Detail_index5:null},{label_index6:null,label_Detail_index6:null}];case"moduleBase":return[{index:0,label_index0:this.transloco.translate("breadcrumbs.serviceRecipients"),img_index0:"assets/icons/team.png",rout_index0:"/home",isActive0:!1},{index:1,label_index1:this.transloco.translate("breadcrumbs.module"),rout_index1:"/party",isActive1:!1,img_index1:"assets/icons/party.png"},{index:2,label_index2:this.transloco.translate("editModule.header.header"),rout_index2:"/registerRule",isActive2:!0,img_index2:"assets/icons/update.png"},{label_index3:null,label_Detail_index3:null},{label_index4:null,label_Detail_index4:null},{label_index5:null,label_Detail_index5:null},{label_index6:null,label_Detail_index6:null}];default:return null}}onCancel(){this.close.emit("close")}onKeydown(d){"Enter"===d.key&&this.onUpdate()}changeFlag(){this.varChangeFlag=!0}rejectFunc(){console.log("\u0639\u0645\u0644\u06cc\u0627\u062a \u0644\u063a\u0648 \u0634\u062f.")}onAccept(){this.moduleDto.moduleGroup=0,this.moduleDto.esbMode=0,this.moduleDto.moduleId=this.moduleId,this.moduleDto.partyId=Number(this.partyId),this.moduleDto.moduleTitle=this.moduleTitle,this.moduleDto.moduleType=Number(this.moduleTypeValue),this.moduleDto.moduleAuthMode=+this.moduleAuthMode,this.moduleDto.description=null!=this.description?this.description:null,this.moduleDto.retryCount=null!=this.retryCount?Number(this.retryCount):null,this.moduleDto.delayRetryTime=null!=this.delayRetryTime?Number(this.delayRetryTime):null,this.moduleDto.limitForPeriod=null!=this.limitForPeriod?Number(this.limitForPeriod):null,this.moduleDto.limitRefreshPeriod=null!=this.limitRefreshPeriod?Number(this.limitRefreshPeriod):null,1==this.status&&(this.moduleDto.status=1),this._primengProgressBarService.show(),this.messagesApiFacadeService.registerModule(this.moduleDto).subscribe(d=>{this._primengProgressBarService.hide(),this.close.emit("closeAndCreate")},d=>{this._primengProgressBarService.hide()})}onUpdate(){this.validation()&&(this.varChangeFlag&&0==this.status?this.confirm1():(this.moduleDto.moduleGroup=0,this.moduleDto.esbMode=0,this.moduleDto.moduleId=this.moduleId,this.moduleDto.partyId=Number(this.partyId),this.moduleDto.moduleTitle=this.moduleTitle,this.moduleDto.moduleType=Number(this.moduleTypeValue),this.moduleDto.moduleAuthMode=+this.moduleAuthMode,this.moduleDto.description=null!=this.description?this.description:null,this.moduleDto.retryCount=null!=this.retryCount?Number(this.retryCount):null,this.moduleDto.delayRetryTime=null!=this.delayRetryTime?Number(this.delayRetryTime):null,this.moduleDto.limitForPeriod=null!=this.limitForPeriod?Number(this.limitForPeriod):null,this.moduleDto.limitRefreshPeriod=null!=this.limitRefreshPeriod?Number(this.limitRefreshPeriod):null,this.moduleDto.status=1==this.status?1:0,this._primengProgressBarService.show(),this.messagesApiFacadeService.registerModule(this.moduleDto).subscribe(d=>{this._primengProgressBarService.hide(),this.close.emit("closeAndCreate")},d=>{this._primengProgressBarService.hide()})))}validation(){return this.moduleTitle?this.moduleTypeValue?!!this.moduleAuthMode||(this.notifierService.showError({detail:this.transloco.translate("editModule.message.enterAuthenticationMethod"),life:3e3}),!1):(this.notifierService.showError({detail:this.transloco.translate("editModule.message.enterModuleType"),life:3e3}),!1):(this.notifierService.showError({detail:this.transloco.translate("editModule.message.enterModuleTitle"),life:3e3}),!1)}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(R.nX),e.rXU(p.td),e.rXU(j.k),e.rXU(D.X),e.rXU(m.JO),e.rXU(P.s),e.rXU(I.f))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-module-api-update"]],inputs:{inputModuleUpdate:"inputModuleUpdate",inputPartyBaseModuleUpdate:"inputPartyBaseModuleUpdate"},outputs:{close:"close"},features:[e.Jv_([p.td])],decls:93,vars:56,consts:[["cd",""],["headless",""],["id","section",1,"p-0","m-0",3,"showBackButton"],[1,"mx-5","my-10","p-0","m-0"],[1,"grid","grid-cols-12","gap-4"],["hidden","",1,"col-span-4"],[1,"normal-label"],[1,"red-color-text"],["pInputText","",1,"normal-input",3,"ngModelChange","keydown.enter","ngModel","disabled"],[1,"col-span-4"],["pInputText","",1,"normal-input",3,"ngModelChange","keydown.enter","ngModel"],["optionValue","code","optionLabel","name",1,"normal-dropdown",3,"ngModelChange","keydown.enter","options","ngModel"],["optionValue","code","optionLabel","name",1,"normal-dropdown",3,"keydown.enter","ngModelChange","options","ngModel"],["pKeyFilter","int","pInputText","",1,"normal-input",3,"ngModelChange","keydown.enter","ngModel"],[1,"col-span-8"],["pInputText","",1,"xx-ggg-8-input",3,"ngModelChange","keydown.enter","ngModel"],[3,"ngModelChange","click","keydown.enter","ngModel"],["dir","ltr",1,"col-span-12",2,"margin-top","15px"],["pButton","","pRipple","","icon","pi pi-times","severity","danger",1,"normal-button",3,"click","label","outlined"],["pButton","","icon","pi pi-save","severity","success",1,"normal-button",3,"click","label"],[1,"flex","flex-col","items-center","p-8","bg-surface-0","dark:bg-surface-900","rounded"],[1,"rounded-full","bg-primary","text-primary-contrast","inline-flex","justify-center","items-center","h-24","w-24","-mt-20"],[1,"pi","pi-question","!text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-6"],[1,"mb-0"],[1,"flex","items-center","gap-2","mt-6"],["pButton","",1,"w-32","bg-green-500","text-white","border-none","normal-button","hover:bg-green-600",3,"click","label"],["pButton","",1,"w-32","bg-red-500","text-white","border-none","normal-button","hover:bg-red-600",3,"click","label","outlined"]],template:function(s,i){if(1&s){const o=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumbs",2),e.j41(2,"div",3)(3,"div",4)(4,"div",5)(5,"label",6)(6,"span",7),e.EFF(7,"* "),e.k0s(),e.j41(8,"span"),e.EFF(9),e.nI1(10,"transloco"),e.k0s()(),e.j41(11,"input",8),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.partyId,t)||(i.partyId=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(12,"div",9)(13,"label",6)(14,"span",7),e.EFF(15,"* "),e.k0s(),e.j41(16,"span"),e.EFF(17),e.nI1(18,"transloco"),e.k0s()(),e.j41(19,"input",8),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.title,t)||(i.title=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(20,"div",9)(21,"label",6)(22,"span",7),e.EFF(23,"* "),e.k0s(),e.j41(24,"span"),e.EFF(25),e.nI1(26,"transloco"),e.k0s()(),e.j41(27,"input",10),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.moduleTitle,t)||(i.moduleTitle=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(28,"div",9)(29,"label",6)(30,"span",7),e.EFF(31,"* "),e.k0s(),e.j41(32,"span"),e.EFF(33),e.nI1(34,"transloco"),e.k0s()(),e.j41(35,"p-dropdown",11),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.moduleTypeValue,t)||(i.moduleTypeValue=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(36,"div",9)(37,"label",6)(38,"span",7),e.EFF(39,"* "),e.k0s(),e.j41(40,"span"),e.EFF(41),e.nI1(42,"transloco"),e.k0s()(),e.j41(43,"p-dropdown",12),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.moduleAuthMode,t)||(i.moduleAuthMode=t),e.Njj(t)}),e.k0s()(),e.j41(44,"div",9)(45,"label",6)(46,"span"),e.EFF(47),e.nI1(48,"transloco"),e.k0s()(),e.j41(49,"input",13),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.delayRetryTime,t)||(i.delayRetryTime=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(50,"div",9)(51,"label",6)(52,"span"),e.EFF(53),e.nI1(54,"transloco"),e.k0s()(),e.j41(55,"input",13),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.limitForPeriod,t)||(i.limitForPeriod=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(56,"div",9)(57,"label",6)(58,"span"),e.EFF(59),e.nI1(60,"transloco"),e.k0s()(),e.j41(61,"input",13),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.limitRefreshPeriod,t)||(i.limitRefreshPeriod=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(62,"div",9)(63,"label",6)(64,"span"),e.EFF(65),e.nI1(66,"transloco"),e.k0s()(),e.j41(67,"input",13),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.retryCount,t)||(i.retryCount=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(68,"div",14)(69,"label",6)(70,"span"),e.EFF(71),e.nI1(72,"transloco"),e.k0s()(),e.j41(73,"input",15),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.description,t)||(i.description=t),e.Njj(t)}),e.bIt("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.j41(74,"div",9)(75,"label",6)(76,"span"),e.EFF(77),e.nI1(78,"transloco"),e.k0s()(),e.j41(79,"p-toggle-switch",16),e.mxI("ngModelChange",function(t){return e.eBV(o),e.DH7(i.status,t)||(i.status=t),e.Njj(t)}),e.bIt("click",function(){return e.eBV(o),e.Njj(i.changeFlag())})("keydown.enter",function(t){return e.eBV(o),e.Njj(i.onKeydown(t))}),e.k0s()(),e.nrm(80,"div",9)(81,"div",9)(82,"div",9),e.j41(83,"div",17)(84,"button",18),e.nI1(85,"transloco"),e.bIt("click",function(){return e.eBV(o),e.Njj(i.onCancel())}),e.k0s(),e.EFF(86,"\xa0 "),e.j41(87,"button",19),e.nI1(88,"transloco"),e.bIt("click",function(){return e.eBV(o),e.Njj(i.onUpdate())}),e.k0s()()(),e.j41(89,"p-confirmdialog",null,0),e.DNE(91,U,12,9,"ng-template",null,1,e.C5r),e.k0s()()}2&s&&(e.R7$(),e.Y8G("showBackButton",!1),e.R7$(8),e.SpI("",e.bMT(10,30,"editModule.input.partyId")," :"),e.R7$(2),e.R50("ngModel",i.partyId),e.Y8G("disabled",!0),e.R7$(6),e.SpI("",e.bMT(18,32,"editModule.input.partyTitle")," :"),e.R7$(2),e.R50("ngModel",i.title),e.Y8G("disabled",!0),e.R7$(6),e.SpI("",e.bMT(26,34,"editModule.input.moduleTitle")," :"),e.R7$(2),e.R50("ngModel",i.moduleTitle),e.R7$(6),e.SpI("",e.bMT(34,36,"editModule.dropdown.moduleType")," :"),e.R7$(2),e.Y8G("options",i.moduleTypeOptions),e.R50("ngModel",i.moduleTypeValue),e.R7$(6),e.SpI("",e.bMT(42,38,"editModule.dropdown.authenticationMethod")," :"),e.R7$(2),e.Y8G("options",i.authenticationMethodOptions),e.R50("ngModel",i.moduleAuthMode),e.R7$(4),e.SpI("",e.bMT(48,40,"editModule.input.delayRetryTime")," :"),e.R7$(2),e.R50("ngModel",i.delayRetryTime),e.R7$(4),e.SpI("",e.bMT(54,42,"editModule.input.limitForPeriod")," :"),e.R7$(2),e.R50("ngModel",i.limitForPeriod),e.R7$(4),e.SpI("",e.bMT(60,44,"editModule.input.limitRefreshPeriod")," :"),e.R7$(2),e.R50("ngModel",i.limitRefreshPeriod),e.R7$(4),e.SpI("",e.bMT(66,46,"editModule.input.retryCount")," :"),e.R7$(2),e.R50("ngModel",i.retryCount),e.R7$(4),e.SpI("",e.bMT(72,48,"editModule.input.description")," :"),e.R7$(2),e.R50("ngModel",i.description),e.R7$(4),e.SpI("",e.bMT(78,50,"editModule.input.status")," :"),e.R7$(2),e.R50("ngModel",i.status),e.R7$(5),e.FS9("label",e.bMT(85,52,"button.cancel")),e.Y8G("outlined",!0),e.R7$(3),e.FS9("label",e.bMT(88,54,"button.save")))},dependencies:[a.YN,a.me,a.BC,a.vS,M.Sm,h.kr,h.ms,y.QO,c._f,m.Kj,g.TM,b.jF,T.m,f.y8,C.n0],styles:["[_nghost-%COMP%]{width:100%}"]})}}return r})()}}]);